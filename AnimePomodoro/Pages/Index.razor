@page "/"

<h1>Index.razor</h1>

<h1>Counter</h1>

<p>Current count: @count</p>
<p>@loading</p>
<p>Current count: @count</p>


<button class="btn btn-primary" @onclick="CountPomodoro">Start Pomodoro</button>
<button class="btn btn-primary" @onclick="ResetTimer">Reset Timer</button>
<button class="btn btn-primary" @onclick="PausePomodoro">Pause Pomodoro</button>
<button class="btn btn-primary" @onclick="ResumePomodoro">Resume Pomodoro</button>

@*<button class="btn btn-primary" @onclick="SetTimer(3)">Set timer 3</button>*@

@code {
    private string loading = "";
    private int currentCount = 0;
    int count = 30;
    private int pomodoroTimer = 0;
    private bool pomodoroPause = false;
    public void SetTimer(int number)
    {
        count = number;
    }

    public void PausePomodoro() {
        pomodoroPause = true;
    }

    public void ResumePomodoro()
    {
        pomodoroPause = false;
        CountPomodoro();
    }

    private void ResetTimer()
    {
        count = 30;
    }

    async public void CountPomodoro()
    {
        while (count > 0)
        {
            if (pomodoroPause) { break; }
            await Task.Delay(1000);
            count = count - 1;
            this.StateHasChanged();
        }
    }


}
@*Welcome to your new app.

    <SurveyPrompt Title="How is Blazor working for you?" />*@
